(self.webpackChunkangular_task_list_management=self.webpackChunkangular_task_list_management||[]).push([[130],{4130:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TasksModule:()=>V});var o=n(8583),i=n(2305),r=n(1841),c=n(3679),s=n(2993),a=n(6782),l=n(9765),p=n(7716),d=n(6084),u=n(7519),g=n(8295),m=n(9983),f=n(5781),h=n(1095),b=n(6627);function x(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"button",4),p.NdJ("click",function(){return p.CHM(t),p.oxw().resetSearchValue()}),p.TgZ(1,"mat-icon"),p._uU(2,"close"),p.qZA(),p.qZA()}}let y=(()=>{class t{constructor(t,e){this.todoService=t,this.changeDetectorRef=e,this.searchTerms$=new l.xQ,this.ngUnsubscribe$=new l.xQ,this.searchValue=new c.NI}search(){console.log(this.inputValue)}ngOnInit(){this.searchTerms$.pipe((0,a.R)(this.ngUnsubscribe$),(0,u.x)()).subscribe(t=>{this.todoService.setSearchTerm(t),this.changeDetectorRef.markForCheck()}),this.searchValue.valueChanges.subscribe(t=>{this.searchTerms$.next(t)}),this.searchValue.setValue("")}displayFn(t){return t||void 0}resetSearchValue(){this.searchValue.setValue("")}onDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(d.w),p.Y36(p.sBO))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-search-task"]],decls:8,vars:4,consts:[["type","text","matInput","",1,"search-input",3,"matAutocomplete","formControl"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"displayWith"],["auto","matAutocomplete"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(1&t&&(p.TgZ(0,"form"),p.TgZ(1,"mat-form-field"),p.TgZ(2,"mat-label"),p._uU(3,"Todo Search"),p.qZA(),p._UZ(4,"input",0),p.YNc(5,x,3,0,"button",1),p._UZ(6,"mat-autocomplete",2,3),p.qZA(),p.qZA()),2&t){const t=p.MAs(7);p.xp6(4),p.Q6J("matAutocomplete",t)("formControl",e.searchValue),p.xp6(1),p.Q6J("ngIf",e.searchValue),p.xp6(1),p.Q6J("displayWith",e.displayFn)}},directives:[c._Y,c.JL,c.F,g.KE,g.hX,m.Nt,f.ZL,c.Fj,c.JJ,c.oH,o.O5,f.XC,h.lW,g.R9,b.Hw],styles:[".search-component[_ngcontent-%COMP%]{width:200px}.search-box[_ngcontent-%COMP%]{background-image:url(https://cdn.icon-icons.com/icons2/1111/PNG/128/loupe_79257.png);background-repeat:no-repeat;margin-bottom:10px;padding:5px 5px 5px 30px;background-size:25px;border-radius:10px;border:2px solid #b3b3b3;font-size:16px;outline:none}mat-form-field[_ngcontent-%COMP%]{width:100%}@media (max-width: 720px){.search-box[_ngcontent-%COMP%]{min-width:320px;height:40px}.search-component[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}}"],changeDetection:0}),t})();var Z=n(7408),C=n(9992),k=n(3738);const _=function(t){return["/tasks/category",t]};function w(t,e){if(1&t&&(p.TgZ(0,"mat-card",2),p.TgZ(1,"mat-card-title",3),p._uU(2),p.qZA(),p.qZA()),2&t){const t=e.$implicit;p.xp6(1),p.Q6J("routerLink",p.VKq(2,_,t.id)),p.xp6(1),p.hij(" ",t.title,"")}}let v=(()=>{class t{constructor(t){this.categoryService=t,this.categories=this.categoryService.categories}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(Z.H))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-category-list"]],decls:2,vars:2,consts:[[1,"category-list",3,"multiple"],["class","category-item my-custom-darker-style",4,"ngFor","ngForOf"],[1,"category-item","my-custom-darker-style"],[1,"category-link",3,"routerLink"]],template:function(t,e){1&t&&(p.TgZ(0,"mat-selection-list",0),p.YNc(1,w,3,4,"mat-card",1),p.qZA()),2&t&&(p.Q6J("multiple",!1),p.xp6(1),p.Q6J("ngForOf",e.categories))},directives:[C.Ub,o.sg,k.a8,k.n5,i.rH],styles:[".category-item[_ngcontent-%COMP%]{cursor:pointer;padding:0;font-family:Roboto,sans-serif;font-weight:700;text-align:center;margin-bottom:10px}.category-item[_ngcontent-%COMP%]   .category-link[_ngcontent-%COMP%]{padding:0;width:100%;display:block;font-size:20px;color:#000}"],changeDetection:0}),t})();var O=n(1575),A=n(2649);let T=(()=>{class t{constructor(t,e,n){this.element=t,this.renderer=e,this.categoryService=n,this.renderer.setStyle(this.element.nativeElement,"cursor","pointer")}onMouseEnter(){this.setCategoryColor()}onMouseLeave(){this.setColor("")}setColor(t){this.renderer.setStyle(this.element.nativeElement,"background-color",t)}setCategoryColor(){const t=this.categoryService.categories.find(t=>t.id===this.categoryId);if(t){switch(t.title){case A.R.GENERAL:this.color="#f8b5ab";break;case A.R.IMPORTANT:this.color="#e2d2fd";break;case A.R.PLANNED:this.color="#ffbdde";break;case A.R.WORK:this.color="#5fffbc";break;case A.R.EDUCATION:this.color="#a2ffff"}this.setColor(this.color)}}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Z.H))},t.\u0275dir=p.lG2({type:t,selectors:[["","appColor",""]],hostBindings:function(t,e){1&t&&p.NdJ("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{categoryId:["appColor","categoryId"]}}),t})(),M=(()=>{class t{transform(t,e=""){return e.length<=2?t:t.filter(t=>t.title.toLowerCase().includes(e.toLowerCase()))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=p.Yjl({name:"filter",type:t,pure:!0}),t})();var q=n(8185);function P(t,e){if(1&t&&(p.TgZ(0,"p",5),p._uU(1),p.qZA()),2&t){const t=p.oxw();p.xp6(1),p.Oqu(t.error)}}const U=function(t){return["/task/edit",t]};function I(t,e){if(1&t){const t=p.EpF();p.TgZ(0,"mat-card",10),p.TgZ(1,"div",11),p.TgZ(2,"button",12),p.NdJ("click",function(e){const n=p.CHM(t).$implicit;return p.oxw(4).deleteTodo(n.id,e)}),p._uU(3,"\xd7"),p.qZA(),p.TgZ(4,"div",13),p._uU(5),p.ALo(6,"titlecase"),p.qZA(),p.TgZ(7,"div",14),p._uU(8),p.qZA(),p.TgZ(9,"div",15),p.TgZ(10,"div",16),p._uU(11),p.ALo(12,"getTitleCategory"),p.qZA(),p.TgZ(13,"div",17),p.TgZ(14,"button",18),p._uU(15,"Edit"),p.qZA(),p.TgZ(16,"button",19),p.NdJ("click",function(e){const n=p.CHM(t).$implicit;return p.oxw(4).completeTodo(n.id,e)}),p._uU(17),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&t){const t=e.$implicit;p.Q6J("routerLink",p.VKq(17,U,t.id))("appColor",t.categoryId),p.xp6(4),p.ekj("completed",t.completed),p.xp6(1),p.Oqu(p.lcZ(6,13,t.title)),p.xp6(2),p.ekj("completed",t.completed),p.xp6(1),p.hij("",t.description," "),p.xp6(3),p.Oqu(p.lcZ(12,15,t.categoryId)),p.xp6(3),p.Q6J("routerLink",p.VKq(19,U,t.id)),p.xp6(2),p.ekj("completed",!t.completed),p.xp6(1),p.hij(" ",t.completed?"\u0421ancel execution":"Completed"," ")}}function S(t,e){if(1&t&&(p.TgZ(0,"div"),p.YNc(1,I,18,21,"mat-card",9),p.ALo(2,"filter"),p.ALo(3,"async"),p.ALo(4,"async"),p.qZA()),2&t){const t=p.oxw(3);p.xp6(1),p.Q6J("ngForOf",p.xi3(2,1,p.lcZ(3,4,t.todos$),p.lcZ(4,6,t.searchValue$)))}}function J(t,e){1&t&&(p.TgZ(0,"p",20),p._uU(1,"No posts"),p.qZA())}function L(t,e){if(1&t&&(p.TgZ(0,"div"),p.YNc(1,S,5,8,"div",6),p.ALo(2,"async"),p.YNc(3,J,2,0,"ng-template",null,8,p.W1O),p.qZA()),2&t){const t=p.MAs(4),e=p.oxw(2);let n;p.xp6(1),p.Q6J("ngIf",null==(n=p.lcZ(2,2,e.todos$))?null:n.length)("ngIfElse",t)}}function N(t,e){1&t&&(p.TgZ(0,"p",20),p._uU(1,"Loading..."),p.qZA())}function $(t,e){if(1&t&&(p.YNc(0,L,5,4,"div",6),p.YNc(1,N,2,0,"ng-template",null,7,p.W1O)),2&t){const t=p.MAs(2),e=p.oxw();p.Q6J("ngIf",!e.loading)("ngIfElse",t)}}const Y=[{path:"",component:(()=>{class t{constructor(t){this.todoService=t,this.ngUnsubscribe$=new l.xQ,this.loading=!1,this.error=""}ngOnInit(){this.todos$=this.todoService.getTodos().pipe((0,a.R)(this.ngUnsubscribe$)),this.searchValue$=this.todoService.searchTerm$.pipe((0,a.R)(this.ngUnsubscribe$))}deleteTodo(t,e){e.preventDefault(),e.stopPropagation(),this.todoService.deleteTodo(t)}completeTodo(t,e){e.preventDefault(),e.stopPropagation(),this.todoService.completeTodo(t)}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(d.w))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-tasks"]],decls:9,vars:2,consts:[[1,"wrapper"],[1,"aside-content"],[1,"wrapper-task"],["class","error",4,"ngIf","ngIfElse"],["todoBlocks",""],[1,"error"],[4,"ngIf","ngIfElse"],["loadingBlock",""],["noTodos",""],["class","darkMode card ",3,"routerLink","appColor",4,"ngFor","ngForOf"],[1,"darkMode","card",3,"routerLink","appColor"],[1,"post-info"],["mat-flat-button","","color","warn","type","button",1,"btn-delete",3,"click"],[1,"title-info"],[1,"todo-description"],[1,"card-footer"],[1,"todo-category"],[1,"btns"],["mat-stroked-button","","type","button",1,"btn",3,"routerLink"],["mat-stroked-button","","type","button",1,"btn",3,"click"],[1,"loading"]],template:function(t,e){if(1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p._UZ(2,"app-search-task"),p._UZ(3,"app-category-list"),p.qZA(),p.TgZ(4,"div",2),p._UZ(5,"app-edit-task"),p.YNc(6,P,2,1,"p",3),p.YNc(7,$,3,2,"ng-template",null,4,p.W1O),p.qZA(),p.qZA()),2&t){const t=p.MAs(8);p.xp6(6),p.Q6J("ngIf",e.error)("ngIfElse",t)}},directives:[y,v,O.M,o.O5,o.sg,k.a8,i.rH,T,h.lW],pipes:[o.Ov,M,o.rS,q.D],styles:[".tasks[_ngcontent-%COMP%]{min-width:600px;margin:0 auto}.aside-content[_ngcontent-%COMP%]{margin-right:15px;position:sticky;top:0}.card[_ngcontent-%COMP%]{min-width:320px;padding:1rem;margin:0 0 .7rem}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card-content[_ngcontent-%COMP%]{margin-bottom:.5rem}.wrapper-task[_ngcontent-%COMP%]{width:100%}.wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.post-info[_ngcontent-%COMP%], .title-info[_ngcontent-%COMP%]{margin-bottom:1rem}.title-info[_ngcontent-%COMP%]{font-weight:700;font-size:24px}.todo-description[_ngcontent-%COMP%]{overflow:hidden;white-space:break-spaces;max-width:750px;margin:0 0 16px}.todo-category[_ngcontent-%COMP%]{font-weight:700;font-size:18px}.btn-delete[_ngcontent-%COMP%]{float:right}.btns[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.btn[_ngcontent-%COMP%]:last-child{margin-left:10px}.card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}div.completed[_ngcontent-%COMP%]{text-decoration:line-through}@media (max-width: 720px){.wrapper[_ngcontent-%COMP%]{flex-direction:column}.aside-content[_ngcontent-%COMP%]{margin-right:0}}"],changeDetection:0}),t})()}];let E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[s.a],imports:[[i.Bz.forChild(Y)],i.Bz]}),t})();var Q=n(8066);let V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[s.a],imports:[[o.ez,E,i.Bz,r.JF,c.UX,c.u5,Q.q]]}),t})()}}]);