(self.webpackChunkangular_task_list_management=self.webpackChunkangular_task_list_management||[]).push([[727],{3727:(t,r,e)=>{"use strict";e.r(r),e.d(r,{AuthModule:()=>P});var a=e(8583),n=e(3679),o=e(2305);class i{static correctPassword(t){return new RegExp("^(?=.*[a-z])(?=.*[A-Z]).+$").test(t.value)?null:{correctPassword:!0}}}var s=e(7716),m=e(4736),u=e(3738),c=e(8295),l=e(9983),g=e(1095);function d(t,r){1&t&&(s.TgZ(0,"mat-error"),s._uU(1,"The email field must not be empty"),s.qZA())}function p(t,r){1&t&&(s.TgZ(0,"mat-error"),s._uU(1,"Please enter a valid email"),s.qZA())}function f(t,r){if(1&t&&(s.TgZ(0,"mat-error",10),s.YNc(1,d,2,0,"mat-error",11),s.YNc(2,p,2,0,"mat-error",11),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.form.get("email").errors.required),s.xp6(1),s.Q6J("ngIf",t.form.get("email").errors.email)}}function h(t,r){1&t&&(s.TgZ(0,"mat-error"),s._uU(1,"Password field must not be empty"),s.qZA())}function Z(t,r){if(1&t&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.hij("Password must contain at least ",t.form.get("password").errors.minlength.requiredLength," characters")}}function w(t,r){if(1&t&&(s.TgZ(0,"mat-error"),s._uU(1),s.qZA()),2&t){const t=s.oxw(2);s.xp6(1),s.hij("Password should not be overridden ",t.form.get("password").errors.maxlength.requiredLength," characters")}}function b(t,r){1&t&&(s.TgZ(0,"mat-error"),s._uU(1,"Password must contain uppercase and lowercase letters of the Latin alphabet"),s.qZA())}function x(t,r){if(1&t&&(s.TgZ(0,"mat-error",10),s.YNc(1,h,2,0,"mat-error",11),s.YNc(2,Z,2,1,"mat-error",11),s.YNc(3,w,2,1,"mat-error",11),s.YNc(4,b,2,0,"mat-error",11),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.form.get("password").errors.required),s.xp6(1),s.Q6J("ngIf",t.form.get("password").errors.minlength),s.xp6(1),s.Q6J("ngIf",t.form.get("password").errors.maxlength),s.xp6(1),s.Q6J("ngIf",t.form.get("password").errors.correctPassword)}}function q(t,r){if(1&t&&(s.TgZ(0,"mat-error",12),s._uU(1),s.qZA()),2&t){const t=r.ngIf;s.xp6(1),s.hij(" ",t," ")}}function _(t,r){if(1&t&&(s.TgZ(0,"mat-error",13),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij(" ",t.message," ")}}function A(t,r){1&t&&(s.TgZ(0,"p",14),s._uU(1,"Loading..."),s.qZA())}const I=[{path:"",component:(()=>{class t{constructor(t,r,e,a){this.FormBuilder=t,this.auth=r,this.router=e,this.route=a,this.submitted=!1}ngOnInit(){this.subscription=this.route.queryParams.subscribe(t=>{t.loginAgain&&(this.message="Please sign in")}),this.form=this.FormBuilder.group({email:[null,[n.kI.required,n.kI.email]],password:[null,[n.kI.required,n.kI.minLength(10),n.kI.maxLength(20),i.correctPassword]]})}submit(){this.form.invalid||(this.submitted=!0,this.auth.login({email:this.form.value.email,password:this.form.value.password}).subscribe(()=>{this.router.navigate(["/tasks"]),this.submitted=!1},()=>{this.submitted=!1}))}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(r){return new(r||t)(s.Y36(n.qu),s.Y36(m.e),s.Y36(o.F0),s.Y36(o.gz))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-auth"]],decls:22,vars:8,consts:[[3,"formGroup","ngSubmit"],[1,"auth-card","my-custom-darker-style"],["appearance","outline"],["type","text","matInput","","required","","id","email","type","email","formControlName","email",1,"bg-input"],["class","validation",4,"ngIf"],["matInput","","required","","id","password","type","password","formControlName","password"],["class","alern-danger",4,"ngIf"],["class","alern-info",4,"ngIf"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["loadingBlock",""],[1,"validation"],[4,"ngIf"],[1,"alern-danger"],[1,"alern-info"],[1,"loading"]],template:function(t,r){1&t&&(s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return r.submit()}),s.TgZ(1,"mat-card",1),s.TgZ(2,"mat-card-title"),s._uU(3,"Login to the app"),s.qZA(),s.TgZ(4,"mat-card-content"),s.TgZ(5,"mat-form-field",2),s.TgZ(6,"mat-label"),s._uU(7,"Email"),s.qZA(),s._UZ(8,"input",3),s.YNc(9,f,3,2,"mat-error",4),s.qZA(),s.TgZ(10,"mat-form-field",2),s.TgZ(11,"mat-label"),s._uU(12,"Password"),s.qZA(),s._UZ(13,"input",5),s.YNc(14,x,5,4,"mat-error",4),s.qZA(),s.YNc(15,q,2,1,"mat-error",6),s.ALo(16,"async"),s.YNc(17,_,2,1,"mat-error",7),s.TgZ(18,"button",8),s._uU(19,"Sign in"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(20,A,2,0,"ng-template",null,9,s.W1O)),2&t&&(s.Q6J("formGroup",r.form),s.xp6(9),s.Q6J("ngIf",r.form.get("email").touched&&r.form.get("email").invalid),s.xp6(5),s.Q6J("ngIf",r.form.get("password").touched&&r.form.get("password").invalid),s.xp6(1),s.Q6J("ngIf",s.lcZ(16,6,r.auth.error$)),s.xp6(2),s.Q6J("ngIf",r.message),s.xp6(1),s.Q6J("disabled",r.form.invalid||r.submitted))},directives:[n._Y,n.JL,n.sg,u.a8,u.n5,u.dn,c.KE,c.hX,l.Nt,n.Fj,n.Q7,n.JJ,n.u,a.O5,g.lW,c.TO],pipes:[a.Ov],styles:[".auth-card[_ngcontent-%COMP%]{text-align:end;max-width:600px;min-width:320px;margin:5% auto 0;padding:1rem}.auth-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.auth-card-content[_ngcontent-%COMP%]{margin-bottom:.5rem}.auth-card.auth-title[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card-title[_ngcontent-%COMP%]{display:flex}.mat-error[_ngcontent-%COMP%]{margin-bottom:10px}.error-message[_ngcontent-%COMP%]{display:block}.bg-input[_ngcontent-%COMP%]{background-color:initial}"],changeDetection:0}),t})()}];let T=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.Bz.forChild(I)],o.Bz]}),t})();var y=e(8066);let P=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[a.ez,T,n.UX,y.q]]}),t})()}}]);